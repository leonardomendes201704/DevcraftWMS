@model DevcraftWMS.DemoMvc.ViewModels.Shared.AddressFormSectionViewModel
@{
    var address = Model.Address;
    var componentId = $"address-{Model.Prefix.Replace('.', '-').Replace('[', '-').Replace(']', '-')}";
}

<div class="address-component" id="@componentId"
     data-address-component="true"
     data-cep-enabled="@Model.EnableCepLookup.ToString().ToLowerInvariant()"
     data-ibge-enabled="@Model.EnableIbgeLookup.ToString().ToLowerInvariant()"
     data-states-url="@Url.Action("States", "AddressLookup")"
     data-cities-url="@Url.Action("Cities", "AddressLookup")"
     data-cep-url="@Url.Action("Cep", "AddressLookup")">
    <h6 class="text-muted">@Model.Title</h6>
    <div class="row g-3">
        <div class="col-md-3">
            <label class="form-label">Postal Code (CEP)</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-geo"></i></span>
                <input class="form-control" asp-for="Address.PostalCode" data-address-field="postalCode" />
                <button class="btn btn-outline-secondary" type="button" data-address-lookup="cep">
                    <span class="address-lookup-icon"><i class="bi bi-search"></i></span>
                    <span class="address-lookup-loading d-none">
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    </span>
                </button>
            </div>
            <span class="text-muted small d-none" data-address-loading-text="true">Aguarde...</span>
            <span class="text-danger small" asp-validation-for="Address.PostalCode"></span>
        </div>
        <div class="col-md-3">
            <label class="form-label">Country</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-globe2"></i></span>
                <input class="form-control" asp-for="Address.Country" data-address-field="country" />
            </div>
            <span class="text-danger small" asp-validation-for="Address.Country"></span>
        </div>
        <div class="col-md-6">
            <label class="form-label">Address Line 1</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-house"></i></span>
                <input class="form-control" asp-for="Address.AddressLine1" data-address-field="addressLine1" />
            </div>
            <span class="text-danger small" asp-validation-for="Address.AddressLine1"></span>
        </div>
        <div class="col-md-2">
            <label class="form-label">Number</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-123"></i></span>
                <input class="form-control" asp-for="Address.AddressNumber" data-address-field="addressNumber" />
            </div>
        </div>
        <div class="col-md-6">
            <label class="form-label">Address Line 2</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-building"></i></span>
                <input class="form-control" asp-for="Address.AddressLine2" data-address-field="addressLine2" />
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label">District</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-signpost"></i></span>
                <input class="form-control" asp-for="Address.District" data-address-field="district" />
            </div>
        </div>
        <div class="col-md-4">
            <label class="form-label">State (UF)</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-map"></i></span>
                <select class="form-select" asp-for="Address.State" data-address-field="state" data-current-value="@address.State"></select>
            </div>
            <span class="text-danger small" asp-validation-for="Address.State"></span>
        </div>
        <div class="col-md-4">
            <label class="form-label">City</label>
            <div class="input-group">
                <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>
                <select class="form-select" asp-for="Address.City" data-address-field="city" data-current-value="@address.City"></select>
            </div>
            <span class="text-danger small" asp-validation-for="Address.City"></span>
        </div>
        @if (Model.ShowGeoCoordinates)
        {
            <div class="col-md-3">
                <label class="form-label">Latitude</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-compass"></i></span>
                    <input class="form-control" asp-for="Address.Latitude" type="number" step="0.000001" />
                </div>
            </div>
            <div class="col-md-3">
                <label class="form-label">Longitude</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-compass-fill"></i></span>
                    <input class="form-control" asp-for="Address.Longitude" type="number" step="0.000001" />
                </div>
            </div>
        }
    </div>
</div>
